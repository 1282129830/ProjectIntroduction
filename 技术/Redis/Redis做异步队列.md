#### Redis做异步队列

一般使用list结构作为队列，rpush生产消息，lpop消费消息。当lpop没有消息的时候，要适当sleep一会再重试。

> 缺点

* 在消费者下线的情况下，生产的消息会丢失，得使用专业的消息队列如rabbitmq等。

> 怎么生产一次消费多次

使用pub/sub主题订阅者模式，可以实现1:N的消息队列。