#### 用户退出实现思路

**退出登录时要清除退出前的cookie外，还要将token的信息保存到Redis中，防止token信息被第三方截取。伪造用户进行登录操作，当校验用户登录的时候不仅仅要验证token信息，还要与Redis中的token黑名单进行对比，如果token信息与黑名单中的信息一致，则视为未登录状态。在token正常过期时间过后删除Redis黑名单中的token。**

#### token实效与刷新机制

**Token的默认失效时间是30分钟，如果token失效需要用户重新登录，如果用户在30分钟内没有操作也就没所谓重新登录了，而如果用户一直在活跃状态而token失效导致需要重新登录，无疑是非常影响客户的体验，所以要设置token在实效时间内对活跃的用户的token进行刷新，而每次请求都刷新token无疑会增加服务器的压力，可以在token失效时间剩余一半而用户还在活跃的时候延长token的有效时间。**